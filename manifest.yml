applications:
- name: matomo-service
  memory: 1G
  instances: 1
  routes:
    - route: $YOUR_ROUTE$
  path: target/matomo-cf-service-0.8.2.jar
  buildpacks:
    - java_buildpack
  services:
    - matomo-service-db
  env:
    CF_APIHOST: $CF_API_HOST$
    CF_USERNAME: $USERNAME$
    CF_PASSWORD: $PASSWORD$
    CF_ORGANIZATION: $CF_ORG$
    CF_SPACE: $CF_SPACE$
    MATOMO-SERVICE_SECURITY_ADMINNAME: $ADMIN_NAME$
    MATOMO-SERVICE_SECURITY_ADMINPASSWORD: $ADMIN_PASSWORD$
    MATOMO-SERVICE_SECURITY_ADMINSESSIONTIMEOUT: $ADMIN_SESSION_TIMEOUT$
    MATOMO-SERVICE_CONTACT_NAME: $CONTACT_NAME$
    MATOMO-SERVICE_CONTACT_URL: $CONTACT_URL$
    MATOMO-SERVICE_CONTACT_EMAIL: $CONTACT_EMAIL$
    MATOMO-SERVICE_MAX-SERVICE-INSTANCES: $MAX_INSTANCES$
    MATOMO-SERVICE_SMTP_CREDS: $SMTP_SERVICE_CREDS$
    MATOMO-SERVICE_DOMAIN: $DOMAIN$
    MATOMO-SERVICE_PHPBUILDPACK: $PHP_BUILPACK$
    MATOMO-SERVICE_SHARED_CREDS: $SHARED_MYSQL_CREDS$
    MATOMO-SERVICE_SHARED-DB_CREDS: $GLOBAL_SHARED_MYSQL_CREDS$
    MATOMO-SERVICE_MATOMO-SHARED-DB_CREDS: $MATOMO_SHARED_MYSQL_CREDS$
    MATOMO-SERVICE_DEDICATED-DB_CREDS: $DEDICATED_MYSQL_CREDS$
  timeout: 180
